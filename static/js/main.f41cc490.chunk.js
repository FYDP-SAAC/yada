(this.webpackJsonpyada=this.webpackJsonpyada||[]).push([[0],{160:function(e,t,a){e.exports=a(474)},169:function(e,t,a){},170:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(52),l=a(42),s=(a(169),a(170),a(53)),i=a(56),c=a(55),d={type:"TOGGLE_EDITOR_READ_ONLY"},p={type:"TOGGLE_EDITOR_DARK_MODE"},m="CHANGE_FILE_NAME_KEY",u=function(e){return{type:"CHANGE_FILE_NAME_KEY",fileNameKey:e}},g="SET_TAG_FILTERS",y=function(e){return{type:"SET_TAG_FILTERS",tagFilters:e}},E=a(77),f=a.n(E);function _(e){return e[0]}var I={Lexer:void 0,ParserRules:[{name:"Main",symbols:["Expression"],postprocess:_},{name:"Expression",symbols:["Expression_"],postprocess:_},{name:"Expression",symbols:["Factor"],postprocess:_},{name:"Expression_",symbols:["Factor","_",{literal:"|",pos:30},"_","Expression"],postprocess:function(e){return[e[0],e[2],e[4]]}},{name:"Factor",symbols:["Factor_"],postprocess:_},{name:"Factor",symbols:["Term"],postprocess:_},{name:"Factor_",symbols:["Term","_",{literal:"&",pos:60},"_","Factor"],postprocess:function(e){return[e[0],e[2],e[4]]}},{name:"Term",symbols:["Not"],postprocess:_},{name:"Term",symbols:["Nested"],postprocess:_},{name:"Term",symbols:["Tag"],postprocess:_},{name:"Not$subexpression$1",symbols:["Nested"],postprocess:_},{name:"Not$subexpression$1",symbols:["Tag"],postprocess:_},{name:"Not",symbols:[{literal:"!",pos:92},"Not$subexpression$1"]},{name:"Nested",symbols:[{literal:"(",pos:110},"_","Expression","_",{literal:")",pos:118}],postprocess:function(e){return e[2]}},{name:"Tag$string$1",symbols:[{literal:"#"},{literal:"{"}],postprocess:function(e){return e.join("")}},{name:"Tag$ebnf$1",symbols:[/[^#{}]/]},{name:"Tag$ebnf$1",symbols:[/[^#{}]/,"Tag$ebnf$1"],postprocess:function(e){return[e[0]].concat(e[1])}},{name:"Tag",symbols:["Tag$string$1","Tag$ebnf$1",{literal:"}",pos:131}],postprocess:function(e){return[e[0],e[1].join(""),e[2]].join("")}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:[{literal:" ",pos:139},"_$ebnf$1"],postprocess:function(e){return[e[0]].concat(e[1])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"Main"},b=function(e){var t=null;if(e){var a=new f.a.Parser(f.a.Grammar.fromCompiled(I));try{a.feed(e.trim()),a.results.length>0&&(t=a.results)}catch(r){}}return t},T=localStorage.getItem("initialTagFilters")||"",F=b(T),h=localStorage.getItem("filesList"),R=new Set(h?JSON.parse(h):["notes"]);localStorage.setItem("filesList",JSON.stringify(Array.from(R)));var v=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).TAG_FILTERS_INPUT_ID="tag_filters_input",e.FILE_EXPLORER_INPUT_ID="file_explorer_input",e.FILE_EXPLORER_LIST_ID="file_explorer_list",e.FILE_NAME_KEY_CHAR_REGEX=/\w/,e.state={tagFiltersText:T},e.handleApplyTagFilters=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=document.getElementById(e.TAG_FILTERS_INPUT_ID).value.trim();if(!a||r!==e.state.tagFiltersText){var n=null;!r||(n=b(r))?(t&&e.setState({tagFiltersText:r}),e.props.setTagFilters({text:r,expr:n})):document.getElementById(e.TAG_FILTERS_INPUT_ID).value=e.state.tagFiltersText}},e.handleTagFiltersKeyPress=function(t){"Enter"===t.key&&e.handleApplyTagFilters()},e.handleToggleEditorReadOnly=function(){document.getElementById(e.TAG_FILTERS_INPUT_ID).value=e.props.editorReadOnly?"":e.state.tagFiltersText,e.handleApplyTagFilters(!1,!1),e.props.toggleEditorReadOnly()},e.handleToggleEditorDarkMode=function(){return e.props.toggleEditorDarkMode()},e.handleFileExplorerKeyPress=function(t){"Enter"===t.key&&e.handleLoadFile(),1===t.key.length&&e.FILE_NAME_KEY_CHAR_REGEX.test(t.key)||t.preventDefault()},e.handleLoadFile=function(){var t=document.getElementById(e.FILE_EXPLORER_INPUT_ID).value.trim();if(t){var a=localStorage.getItem("filesList");localStorage.setItem("filesList",JSON.stringify(Array.from(new Set(a?JSON.parse(a):[]).add(t)))),e.props.changeFileNameKey(t),document.getElementById(e.TAG_FILTERS_INPUT_ID).value="",e.handleApplyTagFilters(!0,!1)}else document.getElementById(e.FILE_EXPLORER_INPUT_ID).value=e.props.fileNameKey},e.handleRemoveFile=function(){var t=document.getElementById(e.FILE_EXPLORER_INPUT_ID).value.trim();if(t!==e.props.fileNameKey){var a=localStorage.getItem("filesList"),r=new Set(a?JSON.parse(a):[]);r.delete(t)&&localStorage.removeItem("file_"+t),localStorage.setItem("filesList",JSON.stringify(Array.from(r)))}},e.render=function(){var t=localStorage.getItem("filesList"),a=(t?JSON.parse(t):[]).map((function(e){return n.a.createElement("option",{key:e},e)}));return n.a.createElement("div",{className:"Header"},n.a.createElement("div",{className:"SubHeader"},n.a.createElement("input",{type:"text",id:e.TAG_FILTERS_INPUT_ID,disabled:!e.props.editorReadOnly,placeholder:e.props.editorReadOnly?'TagFilters expr - e.g. "#{tag1} | !(#{t 2} & !(#{_3}))"':"TagFilters are only enabled in ReadOnly mode",defaultValue:e.props.editorReadOnly?e.state.tagFiltersText:"",onKeyPress:e.handleTagFiltersKeyPress}),n.a.createElement("button",{type:"button",disabled:!e.props.editorReadOnly,onClick:e.handleApplyTagFilters},"Apply TagFilters")),n.a.createElement("div",{className:"SubHeader"},n.a.createElement("input",{type:"text",id:e.FILE_EXPLORER_INPUT_ID,list:e.FILE_EXPLORER_LIST_ID,placeholder:"file name/key",defaultValue:e.props.fileNameKey,onKeyPress:e.handleFileExplorerKeyPress}),n.a.createElement("datalist",{id:e.FILE_EXPLORER_LIST_ID},a),n.a.createElement("button",{type:"button",onClick:e.handleLoadFile},"Load File"),n.a.createElement("button",{type:"button",onClick:e.handleRemoveFile},"Remove File")),n.a.createElement("div",{className:"SubHeader"},n.a.createElement("button",{type:"button",onClick:e.handleToggleEditorDarkMode},e.props.editorDarkMode?"Light":"Dark"," Theme"),n.a.createElement("button",{type:"button",onClick:e.handleToggleEditorReadOnly},"Make ",e.props.editorReadOnly?"Editable":"ReadOnly")))},e}return a}(n.a.Component),O=Object(l.b)((function(e){return{editorDarkMode:e.editorDarkMode,editorReadOnly:e.editorReadOnly,fileNameKey:e.fileNameKey}}),(function(e){return{toggleEditorDarkMode:function(){return e(p)},toggleEditorReadOnly:function(){return e(d)},changeFileNameKey:function(t){return e(u(t))},setTagFilters:function(t){return e(y(t))}}}))(v),N=a(150),S=a.n(N),L=a(154),D=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleEditorChange=Object(L.debounce)((function(t){e.props.editorReadOnly||localStorage.setItem("file_"+e.props.fileNameKey,t())}),250),e.render=function(){var t=document.body;return t&&(t.style.backgroundColor=e.props.editorDarkMode?"#181A1B":"#FFF"),n.a.createElement(S.a,{readOnly:e.props.editorReadOnly,dark:e.props.editorDarkMode,key:e.props.fileNameKey,defaultValue:localStorage.getItem("file_"+e.props.fileNameKey)||"",tagFilters:e.props.tagFiltersExpr,onChange:e.handleEditorChange})},e}return a}(n.a.Component),k=Object(l.b)((function(e){return{editorDarkMode:e.editorDarkMode,editorReadOnly:e.editorReadOnly,fileNameKey:e.fileNameKey,tagFiltersExpr:e.tagFilters.expr}}))(D),A=a(57),x=a(158),P=a(13),K=function(){return n.a.createElement("div",null,n.a.createElement(A.Hero,{color:"black",bg:"white",backgroundImage:"https://source.unsplash.com/npxXWgQ33ZQ/1600x900"},n.a.createElement(A.Section,{heading:"YADA",subhead:"Yet Another Docs App",width:1},n.a.createElement(A.CallToAction,{href:"#/edit"},"Get Started"))))},$=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement(O,null),n.a.createElement(k,null)),n.a.createElement("footer",null,"\xa9 2020 FYDP-SAAC"))},M=function(){return n.a.createElement(x.a,{basename:"/yada"},n.a.createElement(P.a,{exact:!0,path:"/",component:K}),n.a.createElement(P.a,{exact:!0,path:"/edit",component:$}))},C=a(159),G=a(24),w="editorReadOnly",j="editorDarkMode",U=Object(C.a)({reducer:Object(G.c)({editorDarkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Dark"===localStorage.getItem(j),t=arguments.length>1?arguments[1]:void 0;return t.type===p.type?!e:e},editorReadOnly:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ReadOnly"===localStorage.getItem(w),t=arguments.length>1?arguments[1]:void 0;return t.type===d.type?!e:e},fileNameKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("initialFileName")||"notes",t=arguments.length>1?arguments[1]:void 0;return t.type!==m?e:t.fileNameKey},tagFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:T,expr:F},t=arguments.length>1?arguments[1]:void 0;return t.type!==g?e:t.tagFilters}})});U.subscribe((function(){localStorage.setItem(j,U.getState().editorDarkMode?"Dark":"Light"),localStorage.setItem(w,U.getState().editorReadOnly?"ReadOnly":"Editable"),localStorage.setItem("initialFileName",U.getState().fileNameKey),localStorage.setItem("initialTagFilters",U.getState().tagFilters.text||"")}));var X=U;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.render)(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,{store:X},n.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[160,1,2]]]);
//# sourceMappingURL=main.f41cc490.chunk.js.map