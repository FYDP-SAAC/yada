{"version":3,"sources":["actions/index.js","lib/TagFilters.js","reducers/SetTagFilters.js","reducers/ChangeFileNameKey.js","containers/Header.js","containers/Editor.js","App.js","reducers/ToggleEditorProps.js","store.js","serviceWorker.js","index.js"],"names":["type","fileNameKey","tagFilters","id","x","Grammar","Lexer","undefined","ParserRules","name","symbols","postprocess","literal","pos","d","join","concat","ParserStart","parse","inputText","outputParsedExpr","parser","nearley","Parser","fromCompiled","feed","trim","results","length","ex","initialTagFiltersText","localStorage","getItem","initialTagFiltersExpr","parseTagFilters","filesListStr","filesList","Set","JSON","setItem","stringify","Array","from","Header","TAG_FILTERS_INPUT_ID","FILE_EXPLORER_INPUT_ID","FILE_EXPLORER_LIST_ID","FILE_NAME_KEY_CHAR_REGEX","state","tagFiltersText","handleApplyTagFilters","modifyState","checkState","tagFiltersInput","document","getElementById","value","tagFiltersExpr","props","setTagFilters","setState","handleTagFiltersKeyPress","event","key","handleToggleEditorReadOnly","editorReadOnly","toggleEditorReadOnly","handleToggleEditorDarkMode","toggleEditorDarkMode","handleFileExplorerKeyPress","handleLoadFile","test","preventDefault","add","changeFileNameKey","handleRemoveFile","delete","removeItem","render","map","className","disabled","placeholder","defaultValue","onKeyPress","onClick","list","editorDarkMode","React","Component","connect","dispatch","Actions","Editor","handleEditorChange","debounce","body","style","backgroundColor","readOnly","dark","onChange","EDITOR_PROPS_LOCAL_STORAGE_KEYS","store","configureStore","reducer","combineReducers","action","subscribe","getState","Boolean","window","location","hostname","match","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.9a58d875.chunk.js","sourcesContent":["export const TOGGLE_EDITOR_READ_ONLY = { type: 'TOGGLE_EDITOR_READ_ONLY' };\nexport const TOGGLE_EDITOR_DARK_MODE = { type: 'TOGGLE_EDITOR_DARK_MODE' };\n\nexport const CHANGE_FILE_NAME_KEY_TYPE = 'CHANGE_FILE_NAME_KEY';\nexport const changeFileNameKey = fileNameKey => ({ type: CHANGE_FILE_NAME_KEY_TYPE, fileNameKey });\n\nexport const SET_TAG_FILTERS_TYPE = 'SET_TAG_FILTERS';\nexport const setTagFilters = tagFilters => ({type: SET_TAG_FILTERS_TYPE, tagFilters});\n\nexport default {\n  'TOGGLE_EDITOR_READ_ONLY': TOGGLE_EDITOR_READ_ONLY,\n  'TOGGLE_EDITOR_DARK_MODE': TOGGLE_EDITOR_DARK_MODE,\n  'CHANGE_FILE_NAME_KEY_TYPE': CHANGE_FILE_NAME_KEY_TYPE,\n  'changeFileNameKey': changeFileNameKey,\n  'SET_TAG_FILTERS_TYPE': SET_TAG_FILTERS_TYPE,\n  'setTagFilters': setTagFilters,\n};\n","import nearley from 'nearley';\n// Generated automatically by nearley, version undefined\n// http://github.com/Hardmath123/nearley\n/*\nMain -> Expression {% id %}\nExpression -> Expression_ {% id %} | Factor {% id %}\nExpression_ -> Factor _ \"|\" _ Expression {% function(d) { return [d[0], d[2], d[4]] } %}\nFactor -> Factor_ {% id %} | Term {% id %}\nFactor_ -> Term _ \"&\" _ Factor {% function(d) { return [d[0], d[2], d[4]] } %}\nTerm -> Not {% id %} | Nested {% id %} | Tag {% id %}\nNot -> \"!\" (Nested {% id %} | Tag {% id %})\nNested -> \"(\" _ Expression _ \")\" {% function(d) { return d[2] } %}\nTag -> \"#{\" [^{}]:+ \"}\" {% function(d) { return [d[0], d[1].join(\"\"), d[2]].join(\"\") } %}\n_ -> \" \":* {% function(d) { return null } %}\n*/\nfunction id(x) {\n  return x[0];\n}\nexport const Grammar = {\n  Lexer: undefined,\n  ParserRules: [\n    { name: \"Main\", symbols: [\"Expression\"], postprocess: id },\n    { name: \"Expression\", symbols: [\"Expression_\"], postprocess: id },\n    { name: \"Expression\", symbols: [\"Factor\"], postprocess: id },\n    {\n      name: \"Expression_\",\n      symbols: [\"Factor\", \"_\", { literal: \"|\", pos: 30 }, \"_\", \"Expression\"],\n      postprocess: function(d) {\n        return [d[0], d[2], d[4]];\n      },\n    },\n    { name: \"Factor\", symbols: [\"Factor_\"], postprocess: id },\n    { name: \"Factor\", symbols: [\"Term\"], postprocess: id },\n    {\n      name: \"Factor_\",\n      symbols: [\"Term\", \"_\", { literal: \"&\", pos: 60 }, \"_\", \"Factor\"],\n      postprocess: function(d) {\n        return [d[0], d[2], d[4]];\n      },\n    },\n    { name: \"Term\", symbols: [\"Not\"], postprocess: id },\n    { name: \"Term\", symbols: [\"Nested\"], postprocess: id },\n    { name: \"Term\", symbols: [\"Tag\"], postprocess: id },\n    { name: \"Not$subexpression$1\", symbols: [\"Nested\"], postprocess: id },\n    { name: \"Not$subexpression$1\", symbols: [\"Tag\"], postprocess: id },\n    {\n      name: \"Not\",\n      symbols: [{ literal: \"!\", pos: 92 }, \"Not$subexpression$1\"],\n    },\n    {\n      name: \"Nested\",\n      symbols: [\n        { literal: \"(\", pos: 110 },\n        \"_\",\n        \"Expression\",\n        \"_\",\n        { literal: \")\", pos: 118 },\n      ],\n      postprocess: function(d) {\n        return d[2];\n      },\n    },\n    {\n      name: \"Tag$string$1\",\n      symbols: [{ literal: \"#\" }, { literal: \"{\" }],\n      postprocess: function joiner(d) {\n        return d.join(\"\");\n      },\n    },\n    { name: \"Tag$ebnf$1\", symbols: [/[^{}]/] },\n    {\n      name: \"Tag$ebnf$1\",\n      symbols: [/[^{}]/, \"Tag$ebnf$1\"],\n      postprocess: function arrconcat(d) {\n        return [d[0]].concat(d[1]);\n      },\n    },\n    {\n      name: \"Tag\",\n      symbols: [\"Tag$string$1\", \"Tag$ebnf$1\", { literal: \"}\", pos: 131 }],\n      postprocess: function(d) {\n        return [d[0], d[1].join(\"\"), d[2]].join(\"\");\n      },\n    },\n    { name: \"_$ebnf$1\", symbols: [] },\n    {\n      name: \"_$ebnf$1\",\n      symbols: [{ literal: \" \", pos: 139 }, \"_$ebnf$1\"],\n      postprocess: function arrconcat(d) {\n        return [d[0]].concat(d[1]);\n      },\n    },\n    {\n      name: \"_\",\n      symbols: [\"_$ebnf$1\"],\n      postprocess: function(d) {\n        return null;\n      },\n    },\n  ],\n  ParserStart: \"Main\",\n};\nexport const parse = (inputText, throwErrors = true) => {\n  let outputParsedExpr = null;\n  if (inputText) {\n    const parser = new nearley.Parser(nearley.Grammar.fromCompiled(Grammar));\n    try {\n      parser.feed(inputText.trim());\n      if (parser.results.length > 0) {\n        outputParsedExpr = parser.results;\n      }\n    } catch (ex) {}\n  }\n  return outputParsedExpr;\n};\n","import Actions from '../actions';\nimport {parse as parseTagFilters} from '../lib/TagFilters';\n\nexport const INITIAL_TAG_FILTERS_LOCAL_STORAGE_KEY = 'initialTagFilters';\nexport const initialTagFiltersText =\n  localStorage.getItem(INITIAL_TAG_FILTERS_LOCAL_STORAGE_KEY) || '';\nexport const initialTagFiltersExpr = parseTagFilters(initialTagFiltersText);\n\nexport const SetTagFiltersReducer = (state = initialTagFiltersExpr, action) => {\n  if (action.type !== Actions.SET_TAG_FILTERS_TYPE) return state;\n  return action.tagFilters;\n};\n","import Actions from '../actions';\n\nexport const FILE_NAME_PREFIX_LOCAL_STORAGE_KEY = 'file_';\nexport const INITIAL_FILE_NAME_LOCAL_STORAGE_KEY = 'initialFileName';\nexport const FILES_LIST_LOCAL_STORAGE_KEY = 'filesList';\n\nconst filesListStr = localStorage.getItem(FILES_LIST_LOCAL_STORAGE_KEY);\nconst filesList = new Set(filesListStr ? JSON.parse(filesListStr) : ['notes']);\nlocalStorage.setItem(FILES_LIST_LOCAL_STORAGE_KEY, JSON.stringify(Array.from(filesList)));\n\nexport const ChangeFileNameKeyReducer = (\n  state = localStorage.getItem(INITIAL_FILE_NAME_LOCAL_STORAGE_KEY) || 'notes',\n  action,\n) => {\n  if (action.type !== Actions.CHANGE_FILE_NAME_KEY_TYPE) return state;\n  return action.fileNameKey;\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport Actions from '../actions';\nimport {initialTagFiltersText} from '../reducers/SetTagFilters';\nimport {parse as parseTagFilters} from '../lib/TagFilters';\nimport {FILE_NAME_PREFIX_LOCAL_STORAGE_KEY, FILES_LIST_LOCAL_STORAGE_KEY} from '../reducers/ChangeFileNameKey';\n\nclass Header extends React.Component {\n  TAG_FILTERS_INPUT_ID = 'tag_filters_input';\n  FILE_EXPLORER_INPUT_ID = 'file_explorer_input';\n  FILE_EXPLORER_LIST_ID = 'file_explorer_list';\n  FILE_NAME_KEY_CHAR_REGEX = /\\w/;\n\n  state = {\n    tagFiltersText: initialTagFiltersText,\n  };\n\n  handleApplyTagFilters = (modifyState = true, checkState = true) => {\n    const tagFiltersInput = document.getElementById(this.TAG_FILTERS_INPUT_ID).value.trim();\n    if (checkState && tagFiltersInput === this.state.tagFiltersText) {\n      return; // don't need to re-apply since already applied\n    }\n    let tagFiltersExpr = null;\n    if (tagFiltersInput) {\n      tagFiltersExpr = parseTagFilters(tagFiltersInput);\n      if (!tagFiltersExpr) { // if invalid expr, reset the input value to the current valid tag filters text state\n        document.getElementById(this.TAG_FILTERS_INPUT_ID).value = this.state.tagFiltersText;\n        return;\n      }\n    }\n    this.props.setTagFilters(tagFiltersExpr);\n    if (modifyState) {\n      this.setState({ tagFiltersText: tagFiltersInput });\n    }\n  };\n\n  handleTagFiltersKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.handleApplyTagFilters();\n    }\n  };\n\n  handleToggleEditorReadOnly = () => {\n    // currently the prop is the previous value, before toggling\n    document.getElementById(this.TAG_FILTERS_INPUT_ID).value =\n      this.props.editorReadOnly ? '' : this.state.tagFiltersText;\n    this.handleApplyTagFilters(false, false);\n    this.props.toggleEditorReadOnly();\n  };\n\n  handleToggleEditorDarkMode = () => this.props.toggleEditorDarkMode();\n\n  handleFileExplorerKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.handleLoadFile();\n    }\n    if (event.key.length !== 1 || !this.FILE_NAME_KEY_CHAR_REGEX.test(event.key)) {\n      event.preventDefault();\n    }\n  };\n\n  handleLoadFile = () => {\n    const fileNameKey = document.getElementById(this.FILE_EXPLORER_INPUT_ID).value.trim();\n    if (fileNameKey) {\n      const filesListStr = localStorage.getItem(FILES_LIST_LOCAL_STORAGE_KEY);\n      localStorage.setItem(\n        FILES_LIST_LOCAL_STORAGE_KEY,\n        JSON.stringify(Array.from(new Set(filesListStr ? JSON.parse(filesListStr) : []).add(fileNameKey))),\n      );\n      this.props.changeFileNameKey(fileNameKey);\n    } else { // if doesn't exist, reset the input value to the currently open file\n      document.getElementById(this.FILE_EXPLORER_INPUT_ID).value = this.props.fileNameKey;\n    }\n  };\n\n  handleRemoveFile = () => {\n    const fileNameKey = document.getElementById(this.FILE_EXPLORER_INPUT_ID).value.trim();\n    if (fileNameKey === this.props.fileNameKey) {\n      return; // don't remove the currently open file\n    }\n    const filesListStr = localStorage.getItem(FILES_LIST_LOCAL_STORAGE_KEY);\n    const filesList = new Set(filesListStr ? JSON.parse(filesListStr) : []);\n    if (filesList.delete(fileNameKey)) {\n      localStorage.removeItem(FILE_NAME_PREFIX_LOCAL_STORAGE_KEY + fileNameKey);\n    }\n    localStorage.setItem(FILES_LIST_LOCAL_STORAGE_KEY, JSON.stringify(Array.from(filesList)));\n  }\n\n  render = () => {\n    const filesListStr = localStorage.getItem(FILES_LIST_LOCAL_STORAGE_KEY);\n    const filesList = (filesListStr ? JSON.parse(filesListStr) : [])\n      .map(fileNameKey => <option key={fileNameKey}>{fileNameKey}</option>);\n    return (\n      <div className=\"Header\">\n        <div className=\"SubHeader\">\n          <input\n            type=\"text\"\n            id={this.TAG_FILTERS_INPUT_ID}\n            disabled={!this.props.editorReadOnly}\n            placeholder={\n              this.props.editorReadOnly ?\n                'TagFilters expr - e.g. \"#{tag1} | !(#{t2} & !(#{_3}))\"' : 'TagFilters are only enabled in ReadOnly mode'\n            }\n            defaultValue={this.props.editorReadOnly ? this.state.tagFiltersText : ''}\n            onKeyPress={this.handleTagFiltersKeyPress}\n          />\n          <button\n            type=\"button\"\n            disabled={!this.props.editorReadOnly}\n            onClick={this.handleApplyTagFilters}\n          >\n            Apply TagFilters\n          </button>\n        </div>\n        <div className=\"SubHeader\">\n          <input\n            type=\"text\"\n            id={this.FILE_EXPLORER_INPUT_ID}\n            list={this.FILE_EXPLORER_LIST_ID}\n            placeholder=\"file name/key\"\n            defaultValue={this.props.fileNameKey}\n            onKeyPress={this.handleFileExplorerKeyPress}\n          />\n          <datalist id={this.FILE_EXPLORER_LIST_ID}>{filesList}</datalist>\n          <button\n            type=\"button\"\n            onClick={this.handleLoadFile}\n          >\n            Load File\n          </button>\n          <button\n            type=\"button\"\n            onClick={this.handleRemoveFile}\n          >\n            Remove File\n          </button>\n        </div>\n        <div className=\"SubHeader\">\n          <button type=\"button\" onClick={this.handleToggleEditorDarkMode}>\n            {this.props.editorDarkMode ? 'Light' : 'Dark'} Theme\n          </button>\n          <button type=\"button\" onClick={this.handleToggleEditorReadOnly}>\n            Make {this.props.editorReadOnly ? 'Editable' : 'ReadOnly'}\n          </button>\n        </div>\n      </div>\n    );\n  };\n}\n\nexport default connect(\n  state => ({\n    editorDarkMode: state.editorDarkMode,\n    editorReadOnly: state.editorReadOnly,\n    fileNameKey: state.fileNameKey,\n  }),\n  dispatch => ({\n    toggleEditorDarkMode: () => dispatch(Actions.TOGGLE_EDITOR_DARK_MODE),\n    toggleEditorReadOnly: () => dispatch(Actions.TOGGLE_EDITOR_READ_ONLY),\n    changeFileNameKey: fileNameKey => dispatch(Actions.changeFileNameKey(fileNameKey)),\n    setTagFilters: tagFilters => dispatch(Actions.setTagFilters(tagFilters)),\n  }),\n)(Header);\n","import React from 'react';\nimport RichMarkdownEditor from 'rich-markdown-editor';\nimport {connect} from 'react-redux';\nimport {debounce} from 'lodash';\nimport {FILE_NAME_PREFIX_LOCAL_STORAGE_KEY} from '../reducers/ChangeFileNameKey';\n\nclass Editor extends React.Component {\n\n  handleEditorChange = debounce(value => {\n    if (!this.props.editorReadOnly) {\n      localStorage.setItem(FILE_NAME_PREFIX_LOCAL_STORAGE_KEY + this.props.fileNameKey, value());\n    }\n  }, 250);\n\n  render = () => {\n    const {body} = document;\n    if (body) body.style.backgroundColor = this.props.editorDarkMode ? '#181A1B' : '#FFF';\n    return (\n      <RichMarkdownEditor\n        readOnly={this.props.editorReadOnly}\n        dark={this.props.editorDarkMode}\n        key={this.props.fileNameKey}\n        defaultValue={localStorage.getItem(FILE_NAME_PREFIX_LOCAL_STORAGE_KEY + this.props.fileNameKey) || ''}\n        tagFilters={this.props.tagFilters}\n        onChange={this.handleEditorChange}\n      />\n    );\n  };\n}\n\nexport default connect(\n  state => ({\n    editorDarkMode: state.editorDarkMode,\n    editorReadOnly: state.editorReadOnly,\n    fileNameKey: state.fileNameKey,\n    tagFilters: state.tagFilters,\n  }),\n)(Editor);\n","import React from 'react';\nimport './App.css';\nimport Header from './containers/Header';\nimport Editor from './containers/Editor.js';\n\nexport default () => (\n  <div>\n    <div className=\"App\">\n      <Header/>\n      <Editor/>\n    </div>\n    <footer>&copy; 2020 FYDP-SAAC</footer>\n  </div>\n);\n","import Actions from '../actions';\n\nexport const EDITOR_PROPS_LOCAL_STORAGE_KEYS = {\n  EDITOR_READ_ONLY: 'editorReadOnly',\n  EDITOR_DARK_MODE: 'editorDarkMode',\n};\n\nexport const ToggleEditorReadOnlyReducer = (\n  state = localStorage.getItem(EDITOR_PROPS_LOCAL_STORAGE_KEYS.EDITOR_READ_ONLY) === 'ReadOnly',\n  action,\n) => {\n  if (action.type === Actions.TOGGLE_EDITOR_READ_ONLY.type) return !state;\n  return state;\n};\n\nexport const ToggleEditorDarkModeReducer = (\n  state = localStorage.getItem(EDITOR_PROPS_LOCAL_STORAGE_KEYS.EDITOR_DARK_MODE) === 'Dark',\n  action,\n) => {\n  if (action.type === Actions.TOGGLE_EDITOR_DARK_MODE.type) return !state;\n  return state;\n};\n","import {configureStore} from '@reduxjs/toolkit';\nimport {combineReducers} from 'redux';\nimport {EDITOR_PROPS_LOCAL_STORAGE_KEYS, ToggleEditorDarkModeReducer, ToggleEditorReadOnlyReducer} from './reducers/ToggleEditorProps';\nimport {INITIAL_FILE_NAME_LOCAL_STORAGE_KEY, ChangeFileNameKeyReducer} from './reducers/ChangeFileNameKey';\nimport {INITIAL_TAG_FILTERS_LOCAL_STORAGE_KEY, SetTagFiltersReducer} from './reducers/SetTagFilters';\n\nconst store = configureStore({\n  reducer: combineReducers({\n    editorDarkMode: ToggleEditorDarkModeReducer,\n    editorReadOnly: ToggleEditorReadOnlyReducer,\n    fileNameKey: ChangeFileNameKeyReducer,\n    tagFilters: SetTagFiltersReducer,\n  }),\n});\n\nstore.subscribe(() => {\n  localStorage.setItem(\n    EDITOR_PROPS_LOCAL_STORAGE_KEYS.EDITOR_DARK_MODE,\n    store.getState().editorDarkMode ? 'Dark' : 'Light',\n  );\n  localStorage.setItem(\n    EDITOR_PROPS_LOCAL_STORAGE_KEYS.EDITOR_READ_ONLY,\n    store.getState().editorReadOnly ? 'ReadOnly' : 'Editable',\n  );\n  localStorage.setItem(INITIAL_FILE_NAME_LOCAL_STORAGE_KEY, store.getState().fileNameKey);\n  localStorage.setItem(\n    INITIAL_TAG_FILTERS_LOCAL_STORAGE_KEY,\n    store.getState().tagFilters || '',\n  );\n});\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: {'Service-Worker': 'script'},\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport {render} from 'react-dom';\nimport {Provider} from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nrender(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}